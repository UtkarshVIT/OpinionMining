As US troops withdrew from Iraq's urban areas today, the gulf between American and Iraqi perceptions of their departure remained as wide as they were over their arrival in April 2003. Iraq's prime minister, Nouri al-Maliki, has called the negotiated US retreat a great victory and compared it to the Iraqi rebellion against the British in 1920. Thousands of Iraqis celebrated what the government designated as National Sovereignty Day, hanging out flags, waving flowers and dancing in the streets in the kind of celebration that Washington's neocons had hoped to see six and a half years ago when US troops entered Baghdad and toppled Saddam Hussein. Instead of happening then, the joy of liberation is bursting out now.Many Americans still find it hard to understand why Iraqis usually refer to the US presence as an occupation. The official Washington view, parroted in much of the US media, is that the massive US troop contingent was performing the necessary duty of giving Iraqis security. Time magazine this week described the sight of US tanks and armoured vehicles rumbling down Baghdad's streets as "a persistent and painful reminder of Iraq's dependency on foreigners for its security".Iraqis saw things differently. The US invaded and dismantled Iraq's defeated army. In six years the main achievement has been to reconstitute, albeit with better training and now under largely Shia leadership, the very army that they should never have disbanded in the first place. As Maliki put it in an interview with Le Monde a fortnight ago, "a great vacuum was created after the armed intervention by foreigners in 2003".Has the US provided security in this vacuum or were its troops more of a problem than a solution? Opinion polls done regularly for the BBC, in alliance with the US network ABC and Japan's NHK, have consistently shown a majority of Iraqis feel US and other foreign forces "have done a bad job". The most recent poll in February this year put the figure of those who took this view at 69%. A similar proportion expressed "little or no confidence" in US forces.So the real significance of last year's negotiations, which led to today's US withdrawal of combat troops from Iraqi cities and from the entire country by the end of 2011, is political. The Iraqi government finally took on board what a majority of its citizens had long wanted. Indeed, Maliki is seeking to take credit for it by presenting himself as a proud nationalist who has repulsed the outsiders and freed his country.Will it make a military difference? Not immediately. For one thing, US troops have not been involved in operations in most cities in southern Iraq for several months. Basra has been free of foreign combat troops since the British retreated to the airport last year. At the same time, the US pullout is not as complete as it seems. The Iraqi-US agreement has led to a redefinition of "urban areas" as city centres, so that US troops will still be visible on the edge of volatile cities such as Mosul and Baquba for at least another year, until the next drawdown deadline of August 2010.Meanwhile, Iraq's key problem is for its various sectarian and ethnic elites to find a consensus or at least to prevent their political differences leading to violence. The hope is that as the US relaxes its grip on the country, Iraq's political and religious communities will feel motivated to come together.The trends of the last two years suggest this has started to happen. Inter-communal attacks are much reduced, though far from eliminated, as this month's bombings in Baghdad have shown. In largely Sunni areas tribal leaders have turned against al-Qaida-inspired extremists and have the upper hand. The threat of violence between Arab Sunnis and Shias is less than that of Arab-v-Kurdish violence in cities such as Kirkuk and Mosul. The test will be to see whether these good and bad trends continue as the US military begins to make major cuts in its troop numbers over the next two years.