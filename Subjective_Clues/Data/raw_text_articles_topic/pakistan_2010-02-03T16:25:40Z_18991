To many Pakistanis the most shocking aspect of the latest Taliban bombing was not the death toll, or the injuries inflicted on survivors, but the question that it raised: what was a team of American soldiers doing in a tense corner of North West Frontier province?In a way, the attack tugged the veil from a multi-faceted military assistance programme that, while not secret, is rarely publicised – by either side.President Obama's public aid to ­Pakistan is transparent: $1.5bn a year for the next five years, mainly to boost the civilian government. But behind the scenes the US is engaged in other ways. Over the past decade it has given over $12bn in cash directly to the ­military to subsidise the costs of fighting the Taliban and al-Qaida. The programme to train the Frontier Corps, which the killed ­soldiers were involved with, is ­estimated to be worth $400m more over several years.Generously provisioned counter-narcotics programmes operate along the Afghan border, funding everything from wells to schools. In Islamabad military contractors – usually retired army personnel – are paid to advise the army, discreetly working out of suburban houses. All this is hugely sensitive. Public opinion in Pakistan is overwhelmingly hostile to American "interference".Last year a media furore erupted over the role of the contractor Blackwater, which vocal right-wing commentators believed was part of a covert plot to steal the country's nuclear weapons.The Taliban played on that fear yesterday with a spokesman describing the bomb as "revenge for the blasts carried out by Blackwater in Pakistan".The critics are backed by public opinion. A survey last October found that 80% of Pakistanis rejected American assistance in fighting the Taliban.